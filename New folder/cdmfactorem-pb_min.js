/* Factorem 17.3.2 (Fri Aug 17 2018 10:36:55 GMT-0500 (Central Daylight Time)) Domains Updated rusher +BT*/
!function r(s,a,u){function d(i,e){if(!a[i]){if(!s[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var n=a[i]={exports:{}};s[i][0].call(n.exports,function(e){var t=s[i][1][e];return d(t||e)},n,n.exports,r,s,a,u)}return a[i].exports}for(var c="function"==typeof require&&require,e=0;e<u.length;e++)d(u[e]);return d}({1:[function(U,i,o){(function(q,G){var e,t;e=this,t=function(){"use strict";function d(e){return"function"==typeof e}var i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,t=void 0,n=void 0,a=function(e,t){p[o]=e,p[o+1]=t,2===(o+=2)&&(n?n(f):v())};var e="undefined"!=typeof window?window:void 0,r=e||{},s=r.MutationObserver||r.WebKitMutationObserver,u="undefined"==typeof self&&void 0!==q&&"[object process]"==={}.toString.call(q),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var e=setTimeout;return function(){return e(f,1)}}var p=new Array(1e3);function f(){for(var e=0;e<o;e+=2){(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0}o=0}var h,m,g,b,v=void 0;function y(e,t){var i=this,o=new this.constructor(_);void 0===o[S]&&B(o);var n=i._state;if(n){var r=arguments[n-1];a(function(){return R(n,o,r,i._result)})}else L(i,o,e,t);return o}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(_);return P(t,e),t}u?v=function(){return q.nextTick(f)}:s?(m=0,g=new s(f),b=document.createTextNode(""),g.observe(b,{characterData:!0}),v=function(){b.data=m=++m%2}):c?((h=new MessageChannel).port1.onmessage=f,v=function(){return h.port2.postMessage(0)}):v=void 0===e&&"function"==typeof U?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(f)}:l()}catch(e){return l()}}():l();var S=Math.random().toString(36).substring(2);function _(){}var T=void 0,k=1,E=2,C={error:null};function O(e){try{return e.then}catch(e){return C.error=e,C}}function A(e,t,i){var o,n,r,s;t.constructor===e.constructor&&i===y&&t.constructor.resolve===w?(r=e,(s=t)._state===k?x(r,s._result):s._state===E?z(r,s._result):L(s,void 0,function(e){return P(r,e)},function(e){return z(r,e)})):i===C?(z(e,C.error),C.error=null):void 0===i?x(e,t):d(i)?(o=t,n=i,a(function(t){var i=!1,e=function(e,t,i,o){try{e.call(t,i,o)}catch(e){return e}}(n,o,function(e){i||(i=!0,o!==e?P(t,e):x(t,e))},function(e){i||(i=!0,z(t,e))},t._label);!i&&e&&(i=!0,z(t,e))},e)):x(e,t)}function P(e,t){var i,o;e===t?z(e,new TypeError("You cannot resolve a promise with itself")):(o=typeof(i=t),null===i||"object"!==o&&"function"!==o?x(e,t):A(e,t,O(t)))}function I(e){e._onerror&&e._onerror(e._result),M(e)}function x(e,t){e._state===T&&(e._result=t,e._state=k,0!==e._subscribers.length&&a(M,e))}function z(e,t){e._state===T&&(e._state=E,e._result=t,a(I,e))}function L(e,t,i,o){var n=e._subscribers,r=n.length;e._onerror=null,n[r]=t,n[r+k]=i,n[r+E]=o,0===r&&e._state&&a(M,e)}function M(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var o=void 0,n=void 0,r=e._result,s=0;s<t.length;s+=3)o=t[s],n=t[s+i],o?R(i,o,n,r):n(r);e._subscribers.length=0}}function R(e,t,i,o){var n=d(i),r=void 0,s=void 0,a=void 0,u=void 0;if(n){if((r=function(e,t){try{return e(t)}catch(e){return C.error=e,C}}(i,o))===C?(u=!0,s=r.error,r.error=null):a=!0,t===r)return void z(t,new TypeError("A promises callback cannot return that same promise."))}else r=o,a=!0;t._state!==T||(n&&a?P(t,r):u?z(t,s):e===k?x(t,r):e===E&&z(t,r))}var N=0;function B(e){e[S]=N++,e._state=void 0,e._result=void 0,e._subscribers=[]}var j=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[S]||B(this.promise),i(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?x(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&x(this.promise,this._result))):z(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===T&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,o=i.resolve;if(o===w){var n=O(t);if(n===y&&t._state!==T)this._settledAt(t._state,e,t._result);else if("function"!=typeof n)this._remaining--,this._result[e]=t;else if(i===D){var r=new i(_);A(r,t,n),this._willSettleAt(r,e)}else this._willSettleAt(new i(function(e){return e(t)}),e)}else this._willSettleAt(o(t),e)},e.prototype._settledAt=function(e,t,i){var o=this.promise;o._state===T&&(this._remaining--,e===E?z(o,i):this._result[t]=i),0===this._remaining&&x(o,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;L(e,void 0,function(e){return i._settledAt(k,t,e)},function(e){return i._settledAt(E,t,e)})},e}();var D=function(){function t(e){this[S]=N++,this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){P(t,e)},function(e){z(t,e)})}catch(e){z(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){throw e})})},t}();return D.prototype.then=y,D.all=function(e){return new j(this,e).promise},D.race=function(n){var r=this;return i(n)?new r(function(e,t){for(var i=n.length,o=0;o<i;o++)r.resolve(n[o]).then(e,t)}):new r(function(e,t){return t(new TypeError("You must pass an array to race."))})},D.resolve=w,D.reject=function(e){var t=new this(_);return z(t,e),t},D._setScheduler=function(e){n=e},D._setAsap=function(e){a=e},D._asap=a,D.polyfill=function(){var e=void 0;if(void 0!==G)e=G;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var i=null;try{i=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===i&&!t.cast)return}e.Promise=D},D.Promise=D},"object"==typeof o&&void 0!==i?i.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}).call(this,U("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2}],2:[function(e,t,i){var o,n,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(o===setTimeout)return setTimeout(t,0);if((o===s||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:s}catch(e){o=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var d,c=[],l=!1,p=-1;function f(){l&&d&&(l=!1,d.length?c=d.concat(c):p=-1,c.length&&h())}function h(){if(!l){var e=u(f);l=!0;for(var t=c.length;t;){for(d=c,c=[];++p<t;)d&&d[p].run();p=-1,t=c.length}d=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];c.push(new m(e,t)),1!==c.length||l||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("../utils"),o=function(){function e(e){this.zoneIds={"300x250":"59e63eb672-52-167","160x600":"59e63f1b6c-52-167","300x600":"59e63f294b-52-167","300x50":"59e63f305f-52-167","728x90":"59e63f3bea-52-167"},this.factorem=e}return e.prototype.getTag=function(e){var t=s.utils.getSizeStr(e);return"<span class='bt-uid-tg' uid='"+this.zoneIds[t]+"' style='display: none !important'></span>"},e.prototype.recover=function(){this.factorem.debugOut("Injecting Blockthrough's adblock tags ");for(var e=0;e<this.factorem.adZones.length;e++){var t=this.factorem.adZonesMaster.indexOf(this.factorem.adZones[e].zone);if(0<=t)try{var i=this.factorem.adZones[e].zone;if(isNaN(parseFloat(i)))continue;var o=this.factorem.slotSizes[t][0],n=document.getElementById("cdm-zone-"+i),r=n.parentElement;r.style.setProperty("display","block","important"),r.style.setProperty("visibility","visible","important"),n.innerHTML=this.getTag(o)}catch(e){this.factorem.debugOut("Error loading Blockthrough "+e)}}s.utils.loadScript("https://cdn-curse-com.videoplayerhub.com/galleryplayer.js",function(){window.BT.clearThrough()})},e}();i.BlockThroughRecovery=o},{"../utils":17}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("../utils"),n=function(){function e(e){this.runAttempt=0,this.factorem=e}return e.prototype.recover=function(){var r=this;o.utils.loadScript("//static.criteo.net/js/ld/publishertag.js",function(){var e=[458798,458795,458796,458799,458800,458797];r.factorem.debugOut("Initiating Criteo Recovery");for(var t=0;t<e.length;t++){var i=t+1;if(r.factorem.getAdZone("0"+i))try{var o=r.factorem.slotSizes[t][0];document.getElementById("cdm-zone-0"+i).innerHTML=r.getCriteoSource(e[t],o[0],o[1]);var n={zoneid:+e[t],containerid:"crt-"+e[t],overrideZoneFloor:!1};window.Criteo.DisplayAcceptableAdIfAdblocked(n)}catch(e){r.factorem.debugOut("Error loading Criteo "+e)}}})},e.prototype.getCriteoSource=function(e,t,i){return"<div id='crt-"+e+"' style='width:"+t+"px; height:"+i+"px;'></div>\n"},e}();i.CriteoRecovery=n},{"../utils":17}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(e,t){this.zone=e,this.isDeferred=t};i.AdZone=o},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils"),n=function(){function e(e){this.pubId="3165",this.factorem=e}return e.prototype.init=function(e){(void 0===e&&(e=!0),this.enabled=e,this.enabled)&&(!function(i,o){function e(e,t){o[i]._Q.push([e,t])}o[i]||(o[i]={init:function(){e("i",arguments)},fetchBids:function(){e("f",arguments)},_Q:[]})}("apstag",window),window.apstag.init({pubID:this.pubId,adServer:"googletag"}),o.utils.loadScript("//c.amazon-adsystem.com/aax2/apstag.js"))},e.prototype.fetchBids=function(){var o=this;if(this.enabled){this.factorem.debugOut("[a9] Fetching Bids");var n=["01","02","03","04","05","06","07","08"].map(function(e){return{slotID:"cdm-zone-"+e,sizes:o.factorem.slotSizes[Number(e)-1]}});return new Promise(function(t,e){var i=window;i.apstag.fetchBids({slots:n,timeout:2e3},function(e){o.bids=e,o.factorem.debugOut("[a9] Bids Returned"),i.googletag.cmd.push(function(){i.apstag.setDisplayBids()}),t()})})}},e}();i.AmazonWrapper=n},{"./utils":17}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o,n,r=e("./utils");(n=o=i.CmpPolicy||(i.CmpPolicy={}))[n.always=0]="always",n[n.never=1]="never",n[n.detect=2]="detect";var s=function(){function e(e){this.gdprConsent=!1,this.cmpReady=!1,this.factorem=e}return e.prototype.init=function(){var n,i,o=this;return n=window,i=document,n.__cmp||(n.__cmp=function(){(n.attachEvent||window.addEventListener)("message",function(e){n.__cmp.receiveMessage(e)},!1),function e(){if(!n.frames.__cmpLocator)if(i.body){var t=i.createElement("iframe");t.style.display="none",t.name="__cmpLocator",i.body.appendChild(t)}else setTimeout(e,5)}();var o=[],e=function(e,t,i){"ping"===e?i&&i({gdprAppliesGlobally:!!(n.__cmp&&n.__cmp.config&&n.__cmp.config.storeConsentGlobally),cmpLoaded:!1}):o.push({command:e,parameter:t,callback:i})};return e.commandQueue=o,e.receiveMessage=function(e){var t=e&&e.data&&e.data.__cmpCall;t&&o.push({callId:t.callId,command:t.command,parameter:t.parameter,event:e})},e.config={logging:"debug"},e}()),new Promise(function(e,t){window.__cmp("addEventListener","cmpReady",function(){o.cmpReady=!0,e()}),setTimeout(function(){e()},1e3),r.utils.loadScript("//cdm.cursecdn.com/js/cmp/cmp.bundle.js")})},e.prototype.getConsent=function(t){var n=this;return new Promise(function(o,e){window.navigator.cookieEnabled||(n.factorem.debugOut("Cookies are disabled. Ignoring CMP consent check"),o(!0)),n.geoRequiresConsent(t)||(n.gdprConsent=!0,o(!0)),r.utils.getCookie("euconsent")||(n.factorem.debugOut("No consent data found. Showing consent tool"),window.__cmp("showConsentTool"),o(!1)),n.cmpReady||o(!1),window.__cmp("getConsentData",null,function(e){n.factorem.debugOut("populating Prebid consent data");var t=document.getElementsByTagName("body")[0],i=document.createElement("div");i.id="iab",i.innerText=JSON.stringify(e,null,2),i.style.display="none",t.appendChild(i),n.factorem.debugOut(i.innerText)});window.__cmp("getVendorConsents",null,function(e){if(n.factorem.debugOut("getVendorConsents callback result:\n"+JSON.stringify(e,null,2)),e&&e.purposeConsents){for(var t=!0,i=0;i<5;i++)if(!e.purposeConsents[String(i+1)]){t=!1;break}n.gdprConsent=t,n.factorem.debugOut("Consent from vendorConsent purposes "+n.gdprConsent),o(n.gdprConsent)}else n.gdprConsent=!1})})},e.prototype.geoRequiresConsent=function(e){var t=e.toUpperCase();return this.factorem.gdprConsentPolicy===o.never?(this.factorem.debugOut("GDPR Consent disabled"),!(this.gdprConsent=!0)):this.factorem.gdprConsentPolicy===o.always?(this.factorem.debugOut("GDPR Consent explicity required"),!0):"undefined"==e||-1<["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","GB"].indexOf(t)||-1<["CH","IS","LI","NO"].indexOf(t)?(this.factorem.debugOut("GDPR Consent required for "+e),!0):(this.factorem.debugOut("GDPR Consent not required"),!(this.gdprConsent=!0))},e}();i.CmpWrapper=s},{"./utils":17}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(){}return e.wGeos=["us","row"],e.wDevices=["desk","tab","mob"],e.wDomains=["lolpro","futhead","minecraftforum","gamepedia","curse","diablofans","hearthpwn","lolnexus","marriland","reignofgaming","muthead","gw2db","scrollsfans","eqnextfans","wowdb","mtgsalvation","wildstarforums","bulbagarden","n4g","mmo-champion","siliconera","aionarmory","arenajunkies","bukkit","darkspyro","fm-base","guildwarsguru","guildwars2guru","minecraft","symthic","terrariaonline","wowpedia","zybez","solomid","championselect","lolcounter","probuilds","newsoflegends","thetechgame","neogaf","basilmarket","roosterteeth","luthead","planetdestiny","thesimsresource","dotahut","overpwn","gosugamers","huthead","heroesnexus","fextralife","wowprogress","diabloprogress","pixelpapercraft","mobafire","vaingloryfire","heroesfire","hero","elophant","counterstats","dotafire","infinitefire","gamebanana","op","smashboards","smitefire","worldofwargraphs","leagueofgraphs","socialblade","justanswer","askmrrobot","minecraft-mp","mythicspoiler","owfire","mtggoldfish","tappedout","squidboards","bladeandsouldojo","teambeyond","xboxdvr","minecraft-server-list","tabletitans","hearthstonetopdecks","zeldwiki","wowgirl","destinytracker","fanpop","2khead","strawpoll","lolskill","genr8rs","azurilland","stormkings","rerolled","gungeoneers","pgfire","nexusmods","gwentdb","skybound","tempostorm","chess","zeldauniverse","dealnews","se7esins","watcher","agora","pokevision","warframe","masteroverwatch","cheapassgamer","nomansskymods","umggaming","online-go","2kmtcentral","smite","fury","xenoversemods","justcause2mods","justcause3mods","fantasynamegenerators","paladins","gamepress","iogames","slay","mope","nbalive","exviuswiki","wow-professions","thewalkingdead","narwhale","zlap","sl4sh","splix","method","doblons","blockor","westeros","overlog","futbin","speedrun","swgoh","karnage","vertix","driftin","bloble","bonk","starblast","pokemongohub","futwatch","oceanar","germs","mooomoo","feheroes","lasersharks","serenesforest","kugeln","raidbots","gwentify","zombs","zeldamaps","pubg","pokebattler","rollforfantasy","spinz","penny-arcade","uesp","superhex","civfanatics","masterpubg","stabby","bddatabase","aiondatabase","archeagedatabase","teradatabase","tosdatabase","mxmdatabase","blessdatabase","rodatabase","kiranico","woot","l2r","clickb8","temptalia","teamliquid","unicorn","shovel","drillz","foes","elites","mmo-fashion","curseforge","feed-the-beast","porofessor","dulfy","rocket-league","streamable","stomped","uproar","discordbots","bruh","fortnitetracker","zombsroyale","fighterzmods","defly","runeforge","cellz","gaver","surviv","typeracer","stba","littlebigsnake","io","bombz","2dbattleroyale","surviv2","royale","rusher"],e.alsDomains=[3,0,3,0,3,3,3,3,0,3,3,0,0,3,0,3,3,0,3,3,3,0,3,0,0,0,0,0,0,3,3,0,3,3,3,3,3,3,0,0,0,0,3,3,0,3,3,3,3,3,0,0,0,0,3,3,3,0,3,0,3,3,3,0,0,3,0,0,0,0,3,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e.hlsDomains=[3,3,3,0,3,3,3,3,0,3,3,0,0,3,0,3,3,0,3,3,3,0,3,0,0,0,0,3,0,3,3,0,3,3,3,3,3,3,0,3,0,0,3,3,0,3,3,3,3,3,0,0,0,0,3,3,3,0,3,0,3,3,3,0,0,3,0,0,0,0,3,0,0,3,0,0,0,3,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e.fpusDomains=[2.1,1.4,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1,2.1],e.fprowDomains=[1.1,0.5,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1],e.dmDomains=[0,7294528,7294544,7294530,7294499,7294503,7033102,7294539,0,7294556,7294549,7294533,0,7294524,7294576,7294548,0,7294498,7294550,7294545,7294558,0,7294494,7294497,7294500,7294527,0,7294532,7294543,7294564,7294573,0,7294582,0,0,0,7294554,0,0,7294551,7294496,0,7294541,0,0,0,7295971,7294531,7295960,7294537,7294526,7294579,7294504,7294553,7294546,7294574,7294536,7295954,7294523,7295942,7294522,7295964,7294529,11400467,7294560,7294561,7294575,7294538,7294563,0,7294495,7294542,11804502,7295974,7294547,0,7295976,0,7294566,7295987,0,7294565,7294534,7294580,7294577,7294501,7294525,7295919,7295980,7294540,7295950,7295933,7295993,7294557,0,0,7643332,10867421,10867437,9249736,12838172,0,0,9249722,9249732,9249729,0,10867444,10867426,10867454,0,10867443,10867432,10867450,10867440,10867416,0,0,10867423,10867415,10867436,10867418,12860268,10867439,10867428,0,10867414,10867446,10867442,10867429,10867447,10867438,10867441,10867427,10867413,10867453,11804501,10867433,10867417,11158368,11158385,11158389,11158373,11158395,11158399,11158405,11158406,11158407,11158378,11158408,11158409,11158410,11158411,0,11779154,11779164,11779151,11779145,11779162,11779161,11779150,11779149,11779153,11779155,11779148,11779159,11779157,11779144,0,0,0,11779141,0,0,0,0,0,0,11779146,11779160,0,0,12284766,0,12284783,0,0,12284772,0,0,12860269,0,0,0,12860270,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e.MS_IN_SEC=1e3,e.SEC_IN_MIN=60,e.MIN_IN_HOUR=60,e.MS_IN_DAY=(e.HOURS_IN_DAY=24)*e.MIN_IN_HOUR*e.SEC_IN_MIN*e.MS_IN_SEC,e.hideBadgeStyleHtml=".ad-atf-badge,.atf-ad-badge,.xt-ad-badge,.atf-xt-badge {display:none !important;}",e}();i.constants=o},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("./utils"),u=e("./constants"),o=e("./layoutStructure"),d=e("./adzone"),n=e("./gptwrapper"),r=e("./prebidwrapper"),s=e("./amazonwrapper"),c=e("./cmpwrapper"),l=e("./twitchwrapper"),p=e("./scrollspy"),f=e("./videomanager"),h=e("./adblock/criteo"),m=e("./adblock/blockthrough"),g=e("./platforms"),b=function(){function e(){this.vKey="17.3.2",this.adZonesMaster=["01","02","03","04","05","06","07","08","0m","0b","0s","skin","embed","end"],this.slotSizes=[[[728,90]],[[300,250]],[[300,250]],[[728,90]],[[728,90]],[[300,250]],[],[]],this.PREBID_TIMEOUT=2e3,this.MAX_RETRIES=20,this.minimumAllowedBid=.12,this.instartEnabled=!1,this.adZones=[],this.platforms=[],this.setDevice=function(){this.deviceKey="desk";var e=navigator.userAgent||navigator.vendor||window.opera;/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&(this.deviceKey="tab"),/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))&&(this.deviceKey="mob"),this.debugOut("INIT - Scanning Device: "+this.deviceKey)},this.gpt=new n.GptWrapper(this),this.prebid=new r.PrebidWrapper(this),this.amazon=new s.AmazonWrapper(this),this.cmp=new c.CmpWrapper(this),this.twitch=new l.TwitchWrapper(this),this.videoManager=new f.VideoManager(this),this.scrollSpy=new p.ScrollSpy}return e.prototype.configure=function(e){var t=this;try{this.timeKey=(new Date).getTime(),this.debugMode=a.utils.getDebugMode();var i=document.getElementById("factorem"),o=null!=i?i.src.replace(/^[^\?]+\??/,""):"",n=a.utils.parseQuery(o);this.section=null!=n.sec?n.sec:"default",o=window.location.href.replace(/^[^\?]+\??/,""),n=a.utils.parseQuery(o),this.showFlightKey=null!=n.showFlight?n.showFlight:"n",this.disableSkin=null!=n.disableSkin,this.geo=this.cdmgeo=a.utils.getCookie("cdmgeo"),this.readyStateEvent=e.readyStateEvent||"complete",this.slotSizes=e.slotSizes||[[[728,90]],[[300,250]],[[300,250]],[[728,90]],[[728,90]],[[300,250]],[],[]],this.disableInvisibleSlots=void 0!==e.disableInvisibleSlots&&e.disableInvisibleSlots;var r=null!=n.gdprConsentPolicy?c.CmpPolicy[n.gdprConsentPolicy]:c.CmpPolicy.detect;this.gdprConsentPolicy=null!=r?r:c.CmpPolicy.detect,this.minimumRefresh=void 0===e.minimumRefresh?60*u.constants.MS_IN_SEC:e.minimumRefresh,this.slotClassMap=void 0===e.slotClassMap?void 0:e.slotClassMap,this.recoverySystem=void 0===e.recoverySystem?"blockthrough":e.recoverySystem,this.refreshOnPushState=void 0!==e.refreshOnPushState&&e.refreshOnPushState,this.onAdsLoaded=void 0===e.onAdsLoaded?void 0:e.onAdsLoaded,this.testPlatform=null!=n.testPlatform?n.testPlatform:void 0,this.testPlatform&&this.platforms.map(function(e){e.isEnabled=e.id==t.testPlatform});var s=window;s.I11C&&1==s.I11C.Morph&&(this.debugOut("Instart recovery enabled"),this.instartEnabled=!0,this.platforms.map(function(e){e.isEnabled=!0===e.supportsInstart}))}catch(e){this.debugOut("Error configuring Factorem"+e)}console.info("CDMADS::Multum, non multa::Version: "+this.vKey)},e.prototype.init=function(e){var t=this;this.prebid.init(),this.amazon.init(!0),this.configure(e),this.setupPlatforms(),this.setDomain(),this.setDevice(),this.setLayout(),this.debugOut("INIT - Setting Full TimeOut: "+this.PREBID_TIMEOUT+" ms | Config TimeOut: "),this.debugOut("INIT - geo: "+this.cdmgeo),this.debugOut("INIT - gdprConsentPolicy: "+c.CmpPolicy[this.gdprConsentPolicy]),this.gpt.init(this.domainName,this.section),this.platforms.forEach(function(e){return e.checkGeoEnabled()}),this.debugOut("Calling Config Service"),this.geoservicePromise=a.utils.ajax(window.location.protocol+"//geoservice.curse.com/geo/get").then(function(e){return t.handleConfig(e)},function(){t.geo="undefined",t.debugOut("GeoService error")});var i,o=this.getGeoPromise(),n=this.getAdZones();o.then(function(e){t.cmp.geoRequiresConsent(e)?t.cmp.init().then(function(){i=t.cmp.getConsent(e),t.prebid.runPrebid(!0),Promise.all([n,i]).then(function(){return t.gpt.configureGpt()})}):(t.prebid.runPrebid(!1),n.then(function(){return t.gpt.configureGpt()}))}),this.amazonPromise=this.amazon.fetchBids(),this.addSpaSupport()},e.prototype.setupPlatforms=function(){new g.AolPlatform(this,!0),new g.AppNexusPlatform(this,!0),new g.BrealtimePlatform(this,!0),new g.DistrictMPlatform(this,!0),new g.IndexExchangePlatform(this,!0),new g.OpenXPlatform(this,!0),new g.PubmaticPlatform(this,!0),new g.PulsePointPlatform(this,!0),new g.SovrnPlatform(this,!0),new g.CriteoPlatform(this,!0)},e.prototype.getGeoPromise=function(){var i=this;return void 0===this.cdmgeo?this.geoservicePromise.then(function(){return i.geo}):new Promise(function(e,t){e(i.cdmgeo)})},e.prototype.setDomain=function(){-1!=document.domain.indexOf(".co.uk")||-1!=document.domain.indexOf(".com.br")?this.domainName=document.domain.split(".")[document.domain.split(".").length-3]:this.domainName=document.domain.split(".")[document.domain.split(".").length-2],""!=this.domainName&&null!=this.domainName||(this.domainName="na"),this.domainWhitelisted=-1!=u.constants.wDomains.indexOf(this.domainName),this.subdomainName=document.domain.split(".")[0],this.debugOut("INIT - Setting Domain: "+this.domainName)},e.prototype.setLayout=function(){this.isResponsive=0<document.querySelectorAll('head meta[name="viewport"][content*="width=device-width"]').length,this.isMobileDevice=!window.matchMedia("(min-device-width: 750px)").matches,this.mobR=this.isResponsive&&this.isMobileDevice,void 0!==window.genreCategory&&(this.genC=this.toString()),this.debugOut("MobR = "+this.mobR+" genC = "+this.genC),this.mobR&&this.isMobileDevice&&(this.slotSizes[0]=[[320,50]],this.slotSizes[3]=[[320,50]],this.slotSizes[4]=[[320,50]]);var e=u.constants.wDomains.indexOf(this.domainName);-1==e||!0===this.abp_on?this.layoutStructure=o.LayoutStructure.NoSLBHasSkin:this.layoutStructure="home"==this.section?u.constants.hlsDomains[e]:u.constants.alsDomains[e],this.mobR&&(this.layoutStructure=o.LayoutStructure.NoSLBNoSkin),this.debugOut("INIT - Layout Structure: "+this.layoutStructure)},e.prototype.getAdZones=function(){var o=this;return new Promise(function(e,t){var i=setInterval(function(){o.debugOut("Inside runZones"),null==document.getElementById("cdm-zone-end")&&window.document.readyState!=o.readyStateEvent||(o.parseZones(),clearInterval(i),e())},20,o)})},e.prototype.parseZones=function(){if(void 0!==this.slotClassMap)for(var e in this.slotClassMap){var t=document.getElementsByClassName(e);0<t.length&&(t[0].innerHTML='<div id = "'+this.slotClassMap[e]+'"/>')}for(var i=0,o=this.adZonesMaster.length;i<o;i++){var n=this.adZonesMaster[i],r=document.getElementById("cdm-zone-"+n);if(null!=r&&!this.getAdZone(n)){var s=r.attributes.getNamedItem("data-defer"),a=!!s&&"true"===s.value;this.adZones.push(new d.AdZone(n,a))}}this.debugOut("Parsed AdZones: "+this.adZones.map(function(e){return e.zone})+" in section: "+this.section);var u=document.getElementById("cdm-zone-video");null!=u&&this.videoManager.init(u)},e.prototype.initAdserver=function(){var t=this;this.debugOut("initAdserver");var i=window;if(!i.pbjs.initAdserverSet){if(!i.googletag.pubadsReady&&i.pbjs.retries<=this.MAX_RETRIES)return setTimeout(this.initAdserver.bind(this),50),void i.pbjs.retries++;i.googletag.cmd.push(function(){i.pbjs.que.push(function(){i.pbjs.setTargetingForGPTAsync()}),t.debugOut("Prebid complete, displaying ads");var e=t.adZones.filter(function(e){return!e.isDeferred}).map(function(e){return e.gptSlot});i.googletag.pubads().refresh(e),t.onAdsLoaded&&t.onAdsLoaded()}),i.pbjs.initAdserverSet=!0,this.gpt.setupDeferredSlots(),this.lastAdLoad=this.getElapsedTime()}},e.prototype.handleConfig=function(e){var t,i,o=this;if("FAILURE"!=(e=JSON.parse(e)).Status?this.geo=e.Range.CountryCode.toLowerCase():this.geo="us",this.debugOut("Geoservice response: "+this.geo),this.cdmgeo=this.geo,a.utils.setCookie("cdmgeo",this.cdmgeo,30),void 0!==e.Config.sourcepoint_script){t=e.Config.sourcepoint_script.substring(e.Config.sourcepoint_script.indexOf('data-client-id="')+16,e.Config.sourcepoint_script.indexOf('" type')),i=e.Config.sourcepoint_script.substring(e.Config.sourcepoint_script.indexOf('src="')+5,e.Config.sourcepoint_script.indexOf('"></'));var n=document.createElement("script");n.setAttribute("data-client-id",t),n.src=i,n.async=!0,document.getElementsByTagName("head")[0].appendChild(n),document.addEventListener("sp.blocking",function(e){if(o.debugOut("SourcePoint AdBlock User"),window.abp=o.abp_on=!0,!o.instartEnabled){var t=void 0;switch(o.recoverySystem){case"blockthrough":t=new m.BlockThroughRecovery(o);break;case"criteo":t=new h.CriteoRecovery(o)}t&&t.recover()}}),document.addEventListener("sp.not_blocking",function(e){o.debugOut("SourcePoint Non AdBlock User")})}},e.prototype.getAdZone=function(e){for(var t=0;t<this.adZones.length;t++)if(this.adZones[t].zone===e)return this.adZones[t]},e.prototype.refreshAds=function(e,t){var i=this;void 0===t&&(t=!1);var o=this.getElapsedTime();if(!t&&o<this.lastAdLoad+this.minimumRefresh)this.debugOut("Refresh blocked for "+(this.lastAdLoad+this.minimumRefresh-o)+"ms");else{this.debugOut("Starting refresh"),this.parseZones(),this.debugOut("zones re-parsed");for(var n=window,r=[],s=[],a=0;a<this.adZonesMaster.length;a++){var u=Number(this.adZonesMaster[a]);if(!e||-1<e.indexOf(u)){var d=this.adZonesMaster[a],c=this.getAdZone(d),l=c.gptSlot;s.push("cdm-zone-"+d),l||(l=this.gpt.defineGPTSlot(d,this.slotSizes[a],!0),n.googletag.cmd.push(function(){n.googletag.display("cdm-zone-"+d)}),c.gptSlot=l),c.isDeferred||r.push(l)}}n.pbjs.que.push(function(){n.pbjs.requestBids({timeout:i.PREBID_TIMEOUT,adUnitCodes:s,bidsBackHandler:function(){n.pbjs.setTargetingForGPTAsync(s),n.googletag.pubads().refresh(r),i.lastAdLoad=i.getElapsedTime()}})})}},e.prototype.addSpaSupport=function(){var t,i;this.refreshOnPushState&&(this.debugOut("Enabling SPA refresh"),t=window.history,i=t.pushState,t.pushState=function(e){return document.createEvent("Event").initEvent("pushState",!0,!0),window.dispatchEvent(new Event("pushState")),i.apply(t,arguments)},window.addEventListener("pushState",function(e){setTimeout(this.refreshAds.bind(this,null,!0),10)}))},e.prototype.createAdIframe=function(e,t,i){var o=document.createElement("div"),n=document.createElement("iframe");return o.style.position="absolute",o.style.top="0px",o.style.left="0px",n.style.border="none",o.style.width=t+"px",o.style.height=i+"px",n.width=String(t),n.height=String(i),o.id="ifrmDiv",n.id="ifrmAd",n.async=!0,n.style.top="0px",n.style.left="0px",n.scrolling="no",n.marginWidth="0",n.marginHeight="0",this.isMobileDevice&&(n.sandbox="allow-scripts allow-same-origin allow-popups"),document.getElementById(e).appendChild(o),o.appendChild(n),n=n.contentWindow?n.contentWindow:n.contentDocument.document?n.contentDocument.document:n.contentDocument},e.prototype.displayAd=function(t){this.debugOut("Displaying "+t);var e=window.parent.pbjs.getHighestCpmBids().filter(function(e){return e.adUnitCode=="cdm-zone-"+t}),i=document.getElementById(e[0].adUnitCode);i.style.position="relative";var o=document.createElement("style");o.innerHTML="#"+e[0].adUnitCode+" {position:relative;width:"+e[0].width+"px;height:"+e[0].height+"px;}",i.appendChild(o);var n=this.createAdIframe(i.id,e[0].width,e[0].height);window.parent.pbjs.renderAd(n.document,e[0].adId)},e.prototype.getElapsedTime=function(){return(new Date).getTime()-this.timeKey},e.prototype.debugOut=function(e){if(this.debugMode){(new Date).getTime();console.debug("CDMADS["+this.getElapsedTime()+"ms]: "+e)}},e.prototype.debugAll=function(){var e=window.pbjs,t=e.getBidResponses(),i=e.getAllWinningBids(),o=[];if(Object.keys(t).forEach(function(e){t[e].bids.forEach(function(t){o.push({bid:t,adunit:e,adId:t.adId,bidder:t.bidder,time:t.timeToRespond,cpm:t.cpm,msg:t.statusMessage,rendered:!!i.find(function(e){return e.adId==t.adId})})})}),o.length)if(console.table)console.table(o);else for(var n=0;n<o.length;n++)console.log(o[n]);else console.warn("NO prebid responses");console.table(this.amazon.bids)},e.prototype.debugWinning=function(){for(var e=window.pbjs.getHighestCpmBids(),t=[],i=0;i<e.length;i++){var o=e[i];t.push({adunit:o.adUnitCode,adId:o.adId,bidder:o.bidder,time:o.timeToRespond,cpm:o.cpm})}if(t.length)if(console.table)console.table(t);else for(var n=0;n<t.length;n++)console.log(t[n]);else console.warn("No prebid winners")},e}();i.Factorem=b},{"./adblock/blockthrough":3,"./adblock/criteo":4,"./adzone":5,"./amazonwrapper":6,"./cmpwrapper":7,"./constants":8,"./gptwrapper":10,"./layoutStructure":11,"./platforms":13,"./prebidwrapper":14,"./scrollspy":15,"./twitchwrapper":16,"./utils":17,"./videomanager":18}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("./utils"),o=e("./layoutStructure"),n=function(){function e(e){this.factorem=e}return e.prototype.init=function(e,t){var i=window;i.gptadslots=[],i.googletag=i.googletag||{},i.googletag.cmd=i.googletag.cmd||[],i.googleTagKey="/58309977/"+e,"home"==t.toLowerCase()&&(i.googleTagKey=i.googleTagKey+"/home"),i.googletag.cmd.push(function(){i.googletag.pubads().disableInitialLoad()}),a.utils.loadScript("//www.googletagservices.com/tag/js/gpt.js")},e.prototype.defineGPTSlot=function(e,t,i){try{var o=this.factorem.getAdZone(e);if(o){var n="cdm-zone-"+e;if(this.factorem.disableInvisibleSlots){var r=document.getElementById(n);if(!a.utils.isVisible(r))return void this.factorem.debugOut("GPT not called for "+n+" due to visibility.")}var s=window.googletag.defineSlot(window.googleTagKey,t,"cdm-zone-"+e).setTargeting("zne",[e]).setTargeting("nli",1).setTargeting("uprice","n,0.00");return i&&!this.factorem.disableSkin&&(s=s.setTargeting("pSkin",1).setTargeting("slink",[""+this.factorem.skinLink])),s=s.addService(window.googletag.pubads()),o.gptSlot=s,window.gptadslots.push(s),s}}catch(e){this.factorem.debugOut(e)}},e.prototype.configureGpt=function(){var s=this;this.factorem.debugOut("Configuring GPT");var i=window;i.googletag.cmd.push(function(){if(s.factorem.getAdZone("skin")){var e=i.googletag.defineOutOfPageSlot(i.googleTagKey,"cdm-zone-skin").setTargeting("zne",["skin"]).setTargeting("pSkin",1).addService(i.googletag.pubads());s.factorem.getAdZone("skin").gptSlot=e,window.gptadslots.push(e)}s.factorem.layoutStructure==o.LayoutStructure.NoSLBNoSkin?(s.factorem.debugOut("No SLB, No Skin Layout"),s.defineGPTSlot("01",s.factorem.slotSizes[0],!0)):s.factorem.layoutStructure==o.LayoutStructure.SLBNoSkin?(s.factorem.debugOut("SLB, No Skin Layout"),s.defineGPTSlot("01",[[728,90],[980,150],[970,250],[970,125],[970,150],[970,90],[980,66],[980,250]],!0)):s.factorem.layoutStructure==o.LayoutStructure.NoSLBHasSkin?(s.factorem.debugOut("No SLB, Skin Layout"),s.defineGPTSlot("01",[[728,90]],!0)):s.factorem.layoutStructure==o.LayoutStructure.SLBHasSkin?(s.factorem.debugOut("SLB, Skin Layout"),s.defineGPTSlot("01",[[728,90],[980,150],[970,250],[970,125],[970,150],[970,90],[980,66],[980,250]],!0)):(s.factorem.debugOut("No SLB, No Skin Layout (NO LAYOUT SET)"),s.defineGPTSlot("01",[[728,90]],!0)),s.defineGPTSlot("02",s.factorem.slotSizes[1],!0),s.defineGPTSlot("0m",[[320,50]],!1),s.defineGPTSlot("05",s.factorem.slotSizes[4],!0),s.defineGPTSlot("06",s.factorem.slotSizes[5],!0),s.defineGPTSlot("07",s.factorem.slotSizes[6],!0),s.defineGPTSlot("0s",[[160,600]],!1),s.defineGPTSlot("08",s.factorem.slotSizes[7],!0),s.factorem.twitch.defineTwitchEmbed(),s.defineGPTSlot("03",s.factorem.slotSizes[2],!0),s.defineGPTSlot("04",s.factorem.slotSizes[3],!0),s.factorem.mobR||s.defineGPTSlot("0b",[[240,90]],!1),i.googletag.pubads().enableSingleRequest();var t="https:"==window.location.protocol;i.googletag.pubads().setTargeting("vKey",s.factorem.vKey).setTargeting("sdName",s.factorem.subdomainName).setTargeting("dName",[s.factorem.domainName,s.factorem.domainWhitelisted]).setTargeting("dtype",s.factorem.deviceKey).setTargeting("geo",s.factorem.geo).setTargeting("sec",s.factorem.section).setTargeting("oT",s.factorem.showFlightKey).setTargeting("pName",encodeURIComponent(location.pathname.split("/")[1])).setTargeting("nCas","0").setTargeting("ssl",t?"1":"0").setTargeting("pbv",i.pbjs.version),s.factorem.cmp.gdprConsent?(i.googletag.pubads().setRequestNonPersonalizedAds(0),i.googletag.pubads().setTargeting("cnst","1")):(i.googletag.pubads().setRequestNonPersonalizedAds(1),i.googletag.pubads().setTargeting("cnst","0")),s.factorem.instartEnabled&&(s.factorem.debugOut("Setting Instart Logic targeting"),i.googletag.pubads().setTargeting("isrt","1")),i.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();s.factorem.debugOut("DFP Slot Render Complete - "+t);var i=document.getElementById(t),o=i.querySelectorAll("[id^=google_ads_iframe]")[0],n=o.clientWidth,r=o.clientHeight;"cdm-zone-01"==t&&728<n&&(s.factorem.debugOut("Hiding Badge Unit"),a.utils.hideBadge(i,r,s.factorem.domainName)),"cdm-zone-embed"==t&&s.factorem.twitch.twitchPlayerWireup(i)}),i.googletag.enableServices(),s.factorem.getAdZone("skin")&&i.googletag.cmd.push(function(){i.googletag.display("cdm-zone-skin")})}),this.factorem.scrollSpy.initialize({offset:400})},e.prototype.setupDeferredSlots=function(){var i=this,o=window;this.factorem.adZones.filter(function(e){return e.isDeferred}).map(function(e){i.factorem.debugOut("Setting up deferred slot "+e.zone);var t=document.getElementById("cdm-zone-"+e.zone);t.addEventListener("scrollSpyInView",function(){o.googletag.cmd.push(function(){e.wasRefreshed||(i.factorem.debugOut("Deferred ad in view "+e.zone),o.googletag.pubads().refresh([e.gptSlot]),e.wasRefreshed=!0)})}),i.factorem.scrollSpy.watch(t)})},e}();i.GptWrapper=n},{"./layoutStructure":11,"./utils":17}],11:[function(e,t,i){"use strict";var o;Object.defineProperty(i,"__esModule",{value:!0}),(o=i.LayoutStructure||(i.LayoutStructure={}))[o.NoSLBNoSkin=0]="NoSLBNoSkin",o[o.SLBNoSkin=1]="SLBNoSkin",o[o.NoSLBHasSkin=2]="NoSLBHasSkin",o[o.SLBHasSkin=3]="SLBHasSkin"},{}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),e("es6-promise");var o=new(e("./factorem").Factorem);o.init(window.factorem),window.factorem=o},{"./factorem":9,"es6-promise":1}],13:[function(e,t,i){"use strict";var o,n=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r=e("./constants"),s=e("./utils"),a=function(){function e(e,t){this.isEnabled=!0,this.supportsInstart=!0,this.supportedSizes=[[728,90],[320,50],[970,90],[970,250],[300,250],[300,600],[160,600]],this.enabledGeos=void 0,this.factorem=e,this.isEnabled=t,this.factorem.platforms.push(this)}return e.prototype.checkGeoEnabled=function(){this.enabledGeos&&0<this.enabledGeos.length&&this.factorem.cdmgeo&&this.enabledGeos.indexOf(this.factorem.cdmgeo)<0&&(this.factorem.debugOut("["+this.id+"] disabled for geo "+this.factorem.cdmgeo),this.isEnabled=!1)},e.prototype.zoneSizeSupported=function(e){return 1<=s.utils.getCommonSizes(this.factorem.slotSizes[e],this.supportedSizes).length},e}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="am",e.supportedSizes=[[728,90],[300,250]],e.enabledGeos=["us","gb","ca","de","au"],e}return n(e,t),e.prototype.getBidRequest=function(e){var t="US"===this.factorem.geo?[3577093,3577092,3577092,3577093,3910987,3910988]:[3577090,3577091,3577091,3577090,3910985,3910986];if(!(t.length<e))return[{bidder:"aol",params:{placement:t[e],network:"9455.1",bidFloor:this.factorem.minimumAllowedBid}}]},e}(i.Platform=a);i.AolPlatform=u;var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="an",e}return n(e,t),e.prototype.getBidRequest=function(e){return[{bidder:"appnexusAst",params:{member:"3697",invCode:this.factorem.domainName+"-02",reserve:this.factorem.minimumAllowedBid}}]},e}(a);i.AppNexusPlatform=d;var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="br",e}return n(e,t),e.prototype.getBidRequest=function(e){var t=[10954950,10954955,10954956,10954976,10955487,10954993,11316067,11316068];if(!(t.length<e))return[{bidder:"brealtime",params:{placementId:String(t[e])}}]},e}(a);i.BrealtimePlatform=c;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="dm",e}return n(e,t),e.prototype.getBidRequest=function(e){var t=r.constants.wDomains.indexOf(this.factorem.domainName),i=r.constants.dmDomains[t];if(!(i<=0))return[{bidder:"districtm",params:{placementId:i}}]},e}(a);i.DistrictMPlatform=l;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="ca",e}return n(e,t),e.prototype.getBidRequest=function(e){if(!([158962,175222,175223,175224,175225,175226,199136,199137].length<e))return[{bidder:"ix",params:{siteId:"158962",size:this.factorem.slotSizes[e][0],bidFloor:this.factorem.minimumAllowedBid,bidFloorCur:"USD"}}]},e}(a);i.IndexExchangePlatform=p;var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="ox",e.enabledGeos=["us","gb","ca","de","au"],e}return n(e,t),e.prototype.getBidRequest=function(e){var t=[538399536,538399541,538399563,538399548,538399568,538399574,538858903,538858904];if(!(t.length<e))return[{bidder:"openx",params:{unit:String(t[e]),delDomain:"curse-d.openx.net",customFloor:this.factorem.minimumAllowedBid}}]},e}(a);i.OpenXPlatform=f;var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="pm",e.supportsInstart=!1,e}return n(e,t),e.prototype.getBidRequest=function(e){var t=["001","002","003","004","005","006","865721","1082388"];if(!(t.length<e))return[{bidder:"pubmatic",params:{publisherId:"30296",adSlot:t[e]+"@"+s.utils.getSizeStr(this.factorem.slotSizes[e][0]),kadfloor:String(this.factorem.minimumAllowedBid)}}]},e}(a);i.PubmaticPlatform=h;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="pp",e}return n(e,t),e.prototype.getBidRequest=function(e){var t=[409584,409582,409587,409585,409586,409583,575300,576315];if(!(t.length<e))return[{bidder:"pulsepoint",params:{cf:s.utils.getSizeStr(this.factorem.slotSizes[e][0]),cp:"559903",ct:String(t[e])}}]},e}(a);i.PulsePointPlatform=m;var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="sv",e.enabledGeos=["us","gb","ca","de","au"],e}return n(e,t),e.prototype.getBidRequest=function(e){var t=[{"728x90":300207,"320x50":571572},{"300x250":300204},{"300x250":300205},{"728x90":300209,"320x50":571573},{"728x90":void 0,"320x50":571574},{"300x250":331966},{"160x600":125713},{"160x600":466069}];if(!(t.length<e||void 0===t[e]))return[{bidder:"sovrn",params:{tagid:t[e][s.utils.getSizeStr(this.factorem.slotSizes[e][0])],bidfloor:this.factorem.minimumAllowedBid}}]},e}(a);i.SovrnPlatform=g;var b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="cr",e}return n(e,t),e.prototype.getBidRequest=function(e){var t=[{"728x90":881062,"970x90":942793,"970x250":942794,"320x50":1009263},{"300x250":942795,"300x600":942796},{"300x250":942797},{"728x90":942798,"320x50":1009265},{"728x90":942799,"320x50":1009266},{"300x250":942800},{"160x600":942801},{"160x600":942802}];if(!(t.length<e||void 0===t[e])){for(var i=[],o=0;o<this.factorem.slotSizes[e].length;o++){var n=t[e][s.utils.getSizeStr(this.factorem.slotSizes[e][o])];i.push({bidder:"criteo",params:{networkId:146281,zoneId:n}})}return i}},e}(a);i.CriteoPlatform=b},{"./constants":8,"./utils":17}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils"),n=function(){function e(e){this.factorem=e}return e.prototype.init=function(){var e=window;e.pbjs=e.pbjs||{},e.pbjs.que=e.pbjs.que||[],e.pbjs.retries=0,o.utils.loadScript("//cdm.cursecdn.com/js/prebid/prebid-1.15.0.js")},e.prototype.getPrebidConfig=function(e){var t={userSync:{enabledBidders:["ix","pubmatic","appnexusAst","openx","brealtime","pulsepoint","districtm","sovrn","aol","criteo"]}};return e&&(t.consentManagement={cmpApi:"iab",timeout:0,allowAuctionWithoutConsent:!0}),t},e.prototype.runPrebid=function(t){var n=this;this.factorem.debugOut("Running Prebid");var i=window;i.pbjs.que.push(function(){i.pbjs.setConfig(n.getPrebidConfig(t));var e=n.getAdUnits();i.pbjs.addAdUnits(e),i.pbjs.requestBids({bidsBackHandler:function(e){n.factorem.debugOut("All bids received"),n.factorem.initAdserver()},timeout:n.factorem.PREBID_TIMEOUT}),i.pbjs.bidderSettings={standard:{adserverTargeting:[{key:"uPrice",val:function(e){var t,i=e.cpm,o=(Math.floor(100*i)/100).toFixed(2);switch(e.bidderCode){case"ix":t="ca";break;case"sovrn":t="sv";break;case"pubmatic":t="pm";break;case"appnexus":case"appnexusAst":t="an";break;case"brealtime":t="br";break;case"openx":t="ox";break;case"aol":t="am";break;case"pulsepoint":t="pp";break;case"districtm":t="dm";break;case"criteo":t="cr";break;default:t="n"}return i>n.factorem.minimumAllowedBid?t+","+o:"n,0.00"}}]},aol:{bidCpmAdjustment:function(e){return.88*e}},brealtime:{bidCpmAdjustment:function(e){return.8*e}},pubmatic:{bidCpmAdjustment:function(e){return.87*e}}}})},e.prototype.getAdUnits=function(){for(var e,t=[],i=0;i<this.factorem.slotSizes.length;i++)if(0<this.factorem.slotSizes[i].length){for(var o={code:"cdm-zone-0"+(i+1),mediaTypes:{banner:{sizes:this.factorem.slotSizes[i]}},bids:[]},n=0;n<this.factorem.platforms.length;n++){var r=this.factorem.platforms[n];if(r.isEnabled&&r.zoneSizeSupported(i)){var s=this.factorem.platforms[n].getBidRequest(i);s&&(e=o.bids).push.apply(e,s)}}t.push(o)}return t},e}();i.PrebidWrapper=n},{"./utils":17}],15:[function(e,t,i){"use strict";function o(o,n,r){var s,a;return n||(n=250),function(){var e=r||this,t=+new Date,i=arguments;s&&t<s+n?(clearTimeout(a),a=setTimeout(function(){s=t,o.apply(e,i)},n+s-t)):(s=t,o.apply(e,i))}}Object.defineProperty(i,"__esModule",{value:!0});var n=1,r=!1,s={},a={},u=-1,d="OUT_OF_VIEW",c="ALMOST_IN_VIEW",l="IN_VIEW",p=function(){function e(){}return e.OUT_OF_VIEW="scrollSpyOutOfView",e.ALMOST_IN_VIEW="scrollSpyAlmostInView",e.IN_VIEW="scrollSpyInView",e}();i.ScrollSpyStatusEvents=p;var f=function(){function e(){}return e.prototype.initialize=function(e){e=e||{},this.Offset=e.offset&&0<e.offset?e.offset:0,this.TickIntervalRate=e.tickIntervalRate?e.tickIntervalRate:this.TickIntervalRate,this.ThrottleRate=e.throttleRate?e.throttleRate:this.ThrottleRate,window.addEventListener("scroll",o(this.scheduleUpdateInViewStatus.bind(this),this.ThrottleRate)),window.addEventListener("resize",o(this.scheduleUpdateInViewStatus.bind(this),this.ThrottleRate))},e.prototype.getElementsCount=function(){return Object.keys(s).length},e.prototype.isElementWatched=function(e){for(var t=Object.keys(s),i=0;i<t.length;i++){var o=t[i];if(s[o]===e)return!0}return!1},e.prototype.watch=function(e){e&&e.nodeName&&!this.isElementWatched(e)&&(s[n]=e,this.updateInViewStatus(e,n),this.addTickInterval(),n++)},e.prototype.unwatch=function(e){for(var t={},i=Object.keys(s),o=0;o<i.length;o++){var n=i[o],r=s[n];r!==e?t[n]=r:delete a[n]}s=t,this.getElementsCount()||this.removeTickInterval()},e.prototype.scheduleUpdateInViewStatus=function(){var n=this;!r&&this.getElementsCount()&&(window.requestAnimationFrame(function(){for(var e=Object.keys(s),t=0;t<e.length;t++){var i=e[t],o=s[i];n.updateInViewStatus(o,i)}r=!1}),r=!0)},e.prototype.addTickInterval=function(){-1<u||(u=setInterval(this.scheduleUpdateInViewStatus.bind(this),this.TickIntervalRate))},e.prototype.removeTickInterval=function(){clearInterval(u),u=-1},e.prototype.getInViewStatus=function(e){var t=e.getBoundingClientRect(),i=t.top-this.Offset,o=t.bottom+this.Offset;return 0<=i&&i<window.innerHeight||0<o&&o<=window.innerHeight||i<0&&o>window.innerHeight?l:d},e.prototype.updateInViewStatus=function(e,t){var i=a[t],o=this.getInViewStatus(e);i!==o&&(a[t]=o,this.fireEvent(e,o))},e.prototype.fireEvent=function(e,t){var i;switch(t){default:case d:i=p.OUT_OF_VIEW;break;case c:i=p.ALMOST_IN_VIEW;break;case l:i=p.IN_VIEW}document.createEvent("Event").initEvent(i,!0,!0),e.dispatchEvent(new Event(i))},e}();i.ScrollSpy=f},{}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=e("./utils"),o=function(){function e(e){this.factorem=e}return e.prototype.defineTwitchEmbed=function(){try{var e=document.getElementById("cdm-zone-embed");if(e){var t=window.googletag,i=Number(e.getAttribute("data-width")),o=Number(e.getAttribute("data-height")),n=[[640,240],[640,270],[776,270]],r=[[i,o]],s=u.utils.getCommonSizes(n,r);s.length<1&&(s=n),this.factorem.debugOut("Twitch Embed Found - "+s[0]);var a=t.defineSlot(window.googleTagKey+"/embed",s,e.id).addService(t.pubads());this.factorem.getAdZone("embed").gptSlot=a}}catch(e){this.factorem.debugOut(e)}},e.prototype.twitchPlayerWireup=function(e){var t=this;this.factorem.debugOut("Wiring up twitch player"),e.addEventListener("scrollSpyInView",function(){t.factorem.debugOut("Twitch Embed In View"),t.twitchPlayerControl(!0)}),e.addEventListener("scrollSpyOutOfView",function(){t.factorem.debugOut("Twitch Embed Out of View"),t.twitchPlayerControl(!1)}),this.factorem.scrollSpy.watch(e)},e.prototype.twitchPlayerControl=function(e){try{var t=document.querySelector("#cdm-zone-embed iframe");t.contentWindow.player&&t.contentWindow.playerReady?t.contentWindow.handleViewControls(e):setTimeout(this.twitchPlayerControl.bind(this),500,e)}catch(e){this.factorem.debugOut(e)}},e}();i.TwitchWrapper=o},{"./utils":17}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),e("es6-promise");var r=e("./constants"),o=function(){function i(){}return i.getDebugMode=function(){var e="factorem.debugMode",t=!1;return-1!=window.location.href.indexOf("cdmDebugMode=minuteman")&&(t=!0,localStorage.setItem(e,String(t))),t="true"===localStorage.getItem(e)},i.parseQuery=function(e){var t={};if(!e)return t;for(var i=e.split(/[;&]/),o=0;o<i.length;o++){var n=i[o].split("=");if(n&&2==n.length){var r=unescape(n[0]),s=unescape(n[1]);s=s.replace(/\+/g," "),t[r]=s}}return t},i.setCookie=function(e,t,i){var o="";if(i){var n=new Date;n.setTime(n.getTime()+i*r.constants.MS_IN_DAY),o="expires="+n.toUTCString()}return document.cookie=e+"="+t+"; "+o+"; path=/",1},i.getCookie=function(e){for(var t=e+"=",i=document.cookie.split(";"),o=0,n=i.length;o<n;o++){for(var r=i[o];" "==r.charAt(0);)r=r.substring(1);if(-1!=r.indexOf(t))return r.substring(t.length,r.length)}},i.loadScript=function(e,t){var i=document.createElement("script");i.src=e,i.async=!0,void 0!==t&&(i.onload=t),document.head.appendChild(i)},i.ajax=function(n,r,s){return s=s||{},new Promise(function(e,t){try{var i,o=r?"POST":"GET";(i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(o,n,!0),i.setRequestHeader("Content-type",s.contentType||"application/json"),i.timeout=2e3,i.withCredentials=!0,i.onload=function(){i.status<200||300<=i.status?t(i.responseText):e(i.responseText)},i.onerror=function(e){t("Error performing "+o.toUpperCase()+' to url "'+n+'"')},i.send(r)}catch(e){t("Ajax request threw exception")}})},i.getCommonSizes=function(e,t){return e&&t?e.filter(function(e){return i.hasSize(t,e)}):[]},i.hasSize=function(e,t){if(!t)return!1;for(var i=0;i<e.length;i++)if(e[i][0]==t[0]&&e[i][1]==t[1])return!0;return!1},i.getSizeStr=function(e){return e.length<2?"1x1":e[0]+"x"+e[1]},i.hideBadge=function(e,t,i){var o=document.createElement("style");o.innerHTML=r.constants.hideBadgeStyleHtml,100<t&&"nexusmods"===i&&(o.innerHTML+="#horizontalpub{height:"+t+"px !important;overflow-x:hidden;margin-bottom:10px}"),e.appendChild(o),document.getElementsByTagName("body")[0].className+=" ad-skin"},i.isVisible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i}();i.utils=o},{"./constants":8,"es6-promise":1}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=e("./utils"),n=function(){function e(e){this.factorem=e}return e.prototype.init=function(e){this.videoZone=e,this.scriptLoaded||o.utils.loadScript(window.location.protocol+"//imasdk.googleapis.com/js/sdkloader/ima3.js",this.adScriptLoaded.bind(this))},e.prototype.adScriptLoaded=function(){this.factorem.debugOut("[Video] IMA loaded"),this.scriptLoaded=!0;var e=window,t=new e.google.ima.AdDisplayContainer(this.videoZone);t.initialize(),this.adsLoader=new e.google.ima.AdsLoader(t),this.adsLoader.addEventListener(e.google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(e.google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1);this.initialized=!0},e.prototype.requestAd=function(e,t,i){if(this.factorem.debugOut("[Video] Requesting Ad"),this.startCallback=e,this.completeCallback=t,this.errorCallback=i,this.videoWidth=this.videoZone.getAttribute("data-width")||640,this.videoHeight=this.videoZone.getAttribute("data-height")||360,!this.initialized)return this.factorem.debugOut("[Video] Not initialized"),void(this.errorCallback&&this.errorCallback.bind(this)());var o=new window.google.ima.AdsRequest,n=new Date;o.adTagUrl="https://pubads.g.doubleclick.net/gampad/ads?sz=480x360&iu=/58309977/test_curse&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&correlator="+n.getTime(),o.linearAdSlotWidth=this.videoWidth,o.linearAdSlotHeight=this.videoHeight,o.nonLinearAdSlotWidth=640,o.nonLinearAdSlotHeight=150,this.adsLoader.requestAds(o)},e.prototype.onAdsManagerLoaded=function(e){this.adsManager=e.getAdsManager(document.createElement("video"));var t=window;this.adsManager.addEventListener(t.google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(t.google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(t.google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this));try{this.adsManager.init(this.videoWidth,this.videoHeight,t.google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(e){}},e.prototype.onAdError=function(e){this.factorem.debugOut("[Video] Ad error: "+e.getError()),this.adsManager&&this.adsManager.destroy(),this.errorCallback&&this.errorCallback()},e.prototype.onContentPauseRequested=function(){this.factorem.debugOut("[Video] Ad Start"),this.startCallback&&this.startCallback()},e.prototype.onContentResumeRequested=function(){this.factorem.debugOut("[Video] Ad Complete"),this.completeCallback&&this.completeCallback()},e}();i.VideoManager=n},{"./utils":17}]},{},[12]);